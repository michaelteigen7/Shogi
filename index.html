<!DOCTYPE html>
<html>
	<body>
		<p>Count numbers: <output id="result"></output></p>
		<button id="start">Start Worker</button>
		<button id="stop">Stop Worker</button>

		<script>
			console.log("execution")

			var w;

			function startWorker() {
				if (typeof(Worker) !== "undefined") {
					if (typeof(w) == "undefined") {
						try {
							w = new Worker("./src/demo_workers.js");
						}
						catch (e) {
							console.Error(e);
						}
					}
					w.onmessage = function(event) {
						document.getElementById("result").innerHTML = event.data;
					};
				} else {
					document.getElementById("result").innerHTML = "Sorry! No Web Worker support.";
				}
			}

			function stopWorker() {
				w.terminate();
				w = undefined;
			}

			document.getElementById('start').addEventListener("click", stopWorker);
			console.log(document.getElementById('start'));
			document.getElementById('stop').addEventListener("click", stopWorker);

		</script>

	</body>
</html>